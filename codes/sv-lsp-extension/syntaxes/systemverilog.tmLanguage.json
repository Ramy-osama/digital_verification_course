{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "SystemVerilog",
  "scopeName": "source.systemverilog",
  "patterns": [
    { "include": "#comments" },
    { "include": "#strings" },
    { "include": "#numbers" },
    { "include": "#system-tasks" },
    { "include": "#compiler-directives" },
    { "include": "#module-declaration" },
    { "include": "#class-declaration" },
    { "include": "#storage-types" },
    { "include": "#port-directions" },
    { "include": "#keywords-control" },
    { "include": "#keywords-block" },
    { "include": "#keywords-other" },
    { "include": "#uvm-macros" },
    { "include": "#operators" },
    { "include": "#constants" },
    { "include": "#punctuation" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-slash.systemverilog",
          "match": "//.*$"
        },
        {
          "name": "comment.block.systemverilog",
          "begin": "/\\*",
          "end": "\\*/"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.systemverilog",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.systemverilog",
              "match": "\\\\."
            },
            {
              "name": "constant.other.placeholder.systemverilog",
              "match": "%[0-9]*[dDbBhHoOsStTmMfFeEgG%]"
            }
          ]
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.sized.systemverilog",
          "match": "\\b[0-9]+'[sS]?[bBdDhHoO][0-9a-fA-F_xXzZ?]+\\b"
        },
        {
          "name": "constant.numeric.unsized.systemverilog",
          "match": "'[sS]?[bBdDhHoO][0-9a-fA-F_xXzZ?]+\\b"
        },
        {
          "name": "constant.numeric.time.systemverilog",
          "match": "\\b[0-9]+\\.?[0-9]*(fs|ps|ns|us|ms|s)\\b"
        },
        {
          "name": "constant.numeric.real.systemverilog",
          "match": "\\b[0-9]+\\.[0-9]+([eE][+-]?[0-9]+)?\\b"
        },
        {
          "name": "constant.numeric.integer.systemverilog",
          "match": "\\b[0-9][0-9_]*\\b"
        }
      ]
    },
    "system-tasks": {
      "patterns": [
        {
          "name": "support.function.system.systemverilog",
          "match": "\\$[a-zA-Z_][a-zA-Z0-9_$]*"
        }
      ]
    },
    "compiler-directives": {
      "patterns": [
        {
          "name": "keyword.control.directive.systemverilog",
          "match": "`(define|undef|ifdef|ifndef|else|elsif|endif|include|timescale|default_nettype|resetall|celldefine|endcelldefine|line|pragma|begin_keywords|end_keywords)\\b"
        },
        {
          "name": "constant.other.preprocessor.systemverilog",
          "match": "`[a-zA-Z_][a-zA-Z0-9_]*"
        }
      ]
    },
    "module-declaration": {
      "patterns": [
        {
          "match": "\\b(module|macromodule|program|interface|package|primitive)\\s+([a-zA-Z_][a-zA-Z0-9_$]*)",
          "captures": {
            "1": { "name": "keyword.declaration.systemverilog" },
            "2": { "name": "entity.name.type.module.systemverilog" }
          }
        }
      ]
    },
    "class-declaration": {
      "patterns": [
        {
          "match": "\\b(class|virtual\\s+class)\\s+([a-zA-Z_][a-zA-Z0-9_$]*)",
          "captures": {
            "1": { "name": "keyword.declaration.systemverilog" },
            "2": { "name": "entity.name.type.class.systemverilog" }
          }
        },
        {
          "match": "\\b(extends|implements)\\s+([a-zA-Z_][a-zA-Z0-9_$]*)",
          "captures": {
            "1": { "name": "keyword.other.systemverilog" },
            "2": { "name": "entity.other.inherited-class.systemverilog" }
          }
        }
      ]
    },
    "storage-types": {
      "patterns": [
        {
          "name": "storage.type.systemverilog",
          "match": "\\b(logic|reg|wire|integer|real|realtime|time|shortint|int|longint|byte|bit|shortreal|string|chandle|event|void|genvar|tri|tri0|tri1|triand|trior|trireg|wand|wor|supply0|supply1|enum|struct|union|typedef|class|virtual|packed|unsigned|signed)\\b"
        },
        {
          "name": "storage.modifier.systemverilog",
          "match": "\\b(rand|randc|const|static|automatic|local|protected|extern|pure|virtual|ref|var|interconnect|soft)\\b"
        }
      ]
    },
    "port-directions": {
      "patterns": [
        {
          "name": "keyword.other.port.systemverilog",
          "match": "\\b(input|output|inout)\\b"
        }
      ]
    },
    "keywords-control": {
      "patterns": [
        {
          "name": "keyword.control.systemverilog",
          "match": "\\b(if|else|for|foreach|while|do|repeat|forever|return|break|continue|case|casex|casez|default|unique|unique0|priority|inside|matches|dist|with|solve|before|wait|wait_order|disable|force|release|assert|assume|cover|expect|sequence|property|endsequence|endproperty|iff|throughout|within|intersect|first_match|triggered|randcase|randsequence)\\b"
        }
      ]
    },
    "keywords-block": {
      "patterns": [
        {
          "name": "keyword.other.block.systemverilog",
          "match": "\\b(module|endmodule|class|endclass|function|endfunction|task|endtask|begin|end|fork|join|join_any|join_none|generate|endgenerate|interface|endinterface|package|endpackage|program|endprogram|clocking|endclocking|covergroup|endgroup|modport|primitive|endprimitive|table|endtable|specify|endspecify|config|endconfig|checker|endchecker)\\b"
        },
        {
          "name": "keyword.other.procedural.systemverilog",
          "match": "\\b(always|always_ff|always_comb|always_latch|initial|final|assign|deassign)\\b"
        }
      ]
    },
    "keywords-other": {
      "patterns": [
        {
          "name": "keyword.other.systemverilog",
          "match": "\\b(parameter|localparam|defparam|specparam|import|export|typedef|new|null|this|super|extends|implements|constraint|coverpoint|cross|bins|illegal_bins|ignore_bins|wildcard|posedge|negedge|edge|or|and|not|xor|buf|nand|nor|xnor|pullup|pulldown|timescale|type|tagged|chandle|semaphore|mailbox|process)\\b"
        }
      ]
    },
    "uvm-macros": {
      "patterns": [
        {
          "name": "support.function.uvm.systemverilog",
          "match": "`(uvm_[a-zA-Z_][a-zA-Z0-9_]*)"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.assignment.systemverilog",
          "match": "(<=|===|!==|==|!=|&&|\\|\\||\\?|::|->|<->|=>|\\|->|\\|=>)"
        },
        {
          "name": "keyword.operator.arithmetic.systemverilog",
          "match": "(\\+|-|\\*|/|%|\\*\\*)"
        },
        {
          "name": "keyword.operator.bitwise.systemverilog",
          "match": "(&|\\||\\^|~|<<|>>|<<<|>>>)"
        },
        {
          "name": "keyword.operator.comparison.systemverilog",
          "match": "(<|>|>=|<=)"
        }
      ]
    },
    "constants": {
      "patterns": [
        {
          "name": "constant.language.systemverilog",
          "match": "\\b(null|void|this|super)\\b"
        }
      ]
    },
    "punctuation": {
      "patterns": [
        {
          "name": "punctuation.terminator.systemverilog",
          "match": ";"
        }
      ]
    }
  }
}
